{"ast":null,"code":"var _jsxFileName = \"/Users/lawson/code/newboba/boba/frontend-node/src/Post.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport logo from './logo.svg';\nimport { useFetchWrapper } from \"./_helpers\";\nimport { useParams } from 'react-router-dom';\nimport Comment from './Comment';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post() {\n  _s();\n\n  var isButton = false;\n  const history = useNavigate();\n  const fetchWrapper = useFetchWrapper();\n  const {\n    id\n  } = useParams();\n  const [item, setItem] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [getItem, seter] = useState(false);\n  const [comm, setComm] = useState(false);\n  var comment = \"\";\n\n  function likeContent(id) {\n    if (item.isLiked) {\n      item.likes -= 1;\n      document.getElementById(id + \"like\").src = \"/img/nolike.svg\";\n      item.isLiked = false;\n    } else {\n      item.likes += 1;\n      document.getElementById(id + \"like\").src = \"/img/liked.svg\";\n      item.isLiked = true;\n    }\n\n    fetchWrapper.post(process.env.REACT_APP_API_URL + \"/like\", {\n      \"id\": id\n    });\n  }\n\n  function sub() {\n    return fetchWrapper.post(process.env.REACT_APP_API_URL + \"/makecomment\", {\n      \"comment\": comment,\n      \"id\": item.id\n    });\n  }\n\n  function setComment(e) {\n    comment = e;\n    console.log(comment);\n\n    if (comment.length > 0) {\n      if (!isButton) {\n        document.getElementById(item.id + \"subm\").innerHTML = /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          onClick: e => setComm(true),\n          value: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 75\n        }, this);\n        isButton = true;\n      }\n\n      document.getElementById(item.id + \"cmcounter\").innerHTML = comment.length + \"/280\";\n    } else {\n      isButton = false;\n      document.getElementById(item.id + \"cmcounter\").innerHTML = \"\";\n      document.getElementById(item.id + \"subm\").innerHTML = \"\";\n    }\n\n    if (comment.length > 280) {\n      document.getElementById(item.id + \"cmcounter\").classList.add(\"redText\");\n    } else {\n      document.getElementById(item.id + \"cmcounter\").classList.remove(\"redText\");\n    }\n  }\n\n  useEffect(() => {\n    if (comm) {\n      fetchWrapper.post(process.env.REACT_APP_API_URL + \"/comment\", {\n        \"comment\": comment\n      }).then(result => {\n        console.log(result);\n      });\n    }\n  }, [comm]);\n\n  if (!getItem) {\n    seter(true);\n  }\n\n  useEffect(() => {\n    fetchWrapper.get(process.env.REACT_APP_API_URL + \"/post/\" + id).then(result => {\n      setItem(result);\n    });\n  }, [getItem]);\n  useEffect(() => {\n    setLoaded(true);\n  }, [item]);\n\n  if (loaded) {\n    console.log(item);\n    var likeText = \"likes\";\n\n    if (item.likes == 1) {\n      likeText = \"like\";\n    }\n\n    if (!item.isliked) {\n      var isLikedContent = /*#__PURE__*/_jsxDEV(\"img\", {\n        id: item.id + \"like\",\n        className: \"likeContent\",\n        src: \"/img/nolike.svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 31\n      }, this);\n\n      var isLiked = false;\n    } else {\n      isLiked = true;\n      isLikedContent = /*#__PURE__*/_jsxDEV(\"img\", {\n        id: item.id + \"like\",\n        className: \"likeContent\",\n        src: \"/img/liked.svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }, this);\n    }\n\n    if (item.flocation != null) {\n      var pinfo = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pinfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"pimg\",\n              src: process.env.REACT_APP_API_URL + item.flocation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ptext\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this);\n    } else {\n      var pinfo = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pinfo\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ptext\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postsolopage\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postholder\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centerPos\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postsolo\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"back\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"backButton\",\n                onClick: () => history(-1),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"cbut backContent\",\n                  src: \"/img/back.svg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 70\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/profile/\" + item.poster,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"post-profile-pic\",\n                    src: process.env.REACT_APP_API_URL + item.postppic\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 74\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 40\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 35\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.poster, \" on \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/bubble/\" + item.community,\n                  children: item.community\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 198\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 176\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ptitleWrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"post-title\",\n                href: \"/post/\" + item.id,\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 9\n            }, this), pinfo, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"cbut likeContent\",\n                onClick: e => likeContent(item.id),\n                children: isLikedContent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"\",\n                href: \"/post/\" + item.id,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"cbut likeContent\",\n                  src: \"/img/comment.svg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"likes\",\n                children: [item.likes, \" \", likeText]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"makeComment\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mccomment textarea\",\n                role: \"textbox\",\n                id: item.id + \"cm\",\n                onInput: e => setComment(e.target.textContent),\n                contentEditable: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: item.id + \"cmcounter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: item.id + \"subm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"postback\",\n        onClick: () => history(-1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this);\n  }\n}\n\n_s(Post, \"uPlMW6gi6D59i2ojt5hgbS79nng=\", false, function () {\n  return [useNavigate, useFetchWrapper, useParams];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/lawson/code/newboba/boba/frontend-node/src/Post.js"],"names":["React","useState","useEffect","logo","useFetchWrapper","useParams","Comment","useNavigate","Post","isButton","history","fetchWrapper","id","item","setItem","loaded","setLoaded","getItem","seter","comm","setComm","comment","likeContent","isLiked","likes","document","getElementById","src","post","process","env","REACT_APP_API_URL","sub","setComment","e","console","log","length","innerHTML","classList","add","remove","then","result","get","likeText","isliked","isLikedContent","flocation","pinfo","content","poster","postppic","community","title","target","textContent"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport logo from './logo.svg';\nimport { useFetchWrapper } from \"./_helpers\";\nimport { useParams } from 'react-router-dom';\nimport Comment from './Comment';\nimport {useNavigate} from \"react-router-dom\";\n\n\n\nfunction Post() {\n  var isButton = false;\n  const history = useNavigate();\n  const fetchWrapper = useFetchWrapper();\n  const { id } = useParams();\n  const [item, setItem] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [getItem, seter] =  useState(false);\n  const [comm, setComm] = useState(false);\n\n  var comment = \"\";\n  function likeContent(id){\n    if(item.isLiked){\n      item.likes -= 1;\n      document.getElementById(id+\"like\").src = \"/img/nolike.svg\";\n      item.isLiked = false;\n    } else{\n      item.likes  += 1;\n      document.getElementById(id+\"like\").src = \"/img/liked.svg\";\n      item.isLiked = true;\n    }\n    fetchWrapper.post(process.env.REACT_APP_API_URL+\"/like\", {\"id\":id})\n  }\n  function sub() {\n    return fetchWrapper.post(process.env.REACT_APP_API_URL+\"/makecomment\", {\"comment\":comment, \"id\":item.id});\n  }\n  function setComment(e){\n    comment = e;\n    console.log(comment);\n    if(comment.length > 0){\n      if(!isButton){document.getElementById(item.id + \"subm\").innerHTML = <input type=\"button\" onClick={e => setComm(true)} value=\"Comment\"></input>;\n    isButton = true;}\n      document.getElementById(item.id + \"cmcounter\").innerHTML = comment.length + \"/280\";\n    } else{\n      isButton = false;\n      document.getElementById(item.id + \"cmcounter\").innerHTML = \"\";\n      document.getElementById(item.id + \"subm\").innerHTML = \"\";\n    }\n    if(comment.length > 280){document.getElementById(item.id + \"cmcounter\").classList.add(\"redText\");} else{document.getElementById(item.id + \"cmcounter\").classList.remove(\"redText\");}\n  }\n  useEffect(() => {if(comm){fetchWrapper.post(process.env.REACT_APP_API_URL+\"/comment\", {\"comment\":comment}).then(result => {console.log(result)});}}, [comm])\n  if(!getItem){\n    seter(true);\n  }\n  useEffect(() => {fetchWrapper.get(process.env.REACT_APP_API_URL+\"/post/\"+id).then(result => {setItem(result)});}, [getItem])\n  useEffect(() => { setLoaded(true); }, [item]);\n    if(loaded){\n      console.log(item);\n      var likeText = \"likes\";\n      if(item.likes == 1){\n        likeText = \"like\";\n      }\n      if(!item.isliked){\n        var isLikedContent = (<img id={item.id+\"like\"} className=\"likeContent\" src=\"/img/nolike.svg\"/>);\n        var isLiked = false;\n      }else{\n        isLiked = true;\n        isLikedContent = (<img id={item.id+\"like\"} className=\"likeContent\" src=\"/img/liked.svg\"/>);\n      }\n      if(item.flocation != null){\n        var pinfo = (\n          <div className = \"pinfo\">\n            <div className=\"image\">\n              <div className=\"post-image\">\n            <img className = \"pimg\" src={process.env.REACT_APP_API_URL+item.flocation}></img></div>\n            </div>\n            <div className = \"ptext\"><p>{item.content}</p></div>\n            </div>\n        );\n      }\n      else{\n        var pinfo = (\n        <div className = \"pinfo\">\n          <div className = \"ptext\">\n          <p>\n              {item.content}</p>\n            </div>\n            </div>\n        );\n      }\n      return (\n        <div className=\"postsolopage\">\n          <div className=\"postholder\">\n            <div className=\"centerPos\">\n      <div className=\"postsolo\">\n        <div className = \"back\">\n        <button className = \"backButton\" onClick={() => history(-1)}><img className=\"cbut backContent\" src=\"/img/back.svg\"></img></button>\n        </div>\n        <div className=\"post-top\"><div><a href={\"/profile/\"+item.poster}><img className = \"post-profile-pic\" src={process.env.REACT_APP_API_URL+item.postppic}></img></a></div><div>{item.poster} on <a href={\"/bubble/\"+item.community}>{item.community}</a></div></div>\n        <div className=\"ptitleWrapper\"><a className=\"post-title\" href ={\"/post/\"+item.id}>{item.title}</a></div>\n        {pinfo}\n        <div className=\"bottom\">\n        <button className=\"cbut likeContent\" onClick={e => likeContent(item.id)}>{isLikedContent}</button>\n          <a className=\"\" href ={\"/post/\"+item.id}><img className=\"cbut likeContent\" src=\"/img/comment.svg\" /></a>\n  \n            <div className =\"likes\">\n              {item.likes} {likeText}\n            </div>\n  \n            <div className =\"comments\">\n            </div>\n        </div>\n        <div className= \"makeComment\">\n              <span className=\"mccomment textarea\" role=\"textbox\" id ={item.id + \"cm\"} onInput={e => setComment(e.target.textContent)} contentEditable></span>\n              <div id={item.id + \"cmcounter\"}></div>\n              <div id={item.id + \"subm\"}></div>\n            </div>\n      </div>\n      </div>\n      </div>\n      <button className = \"postback\" onClick={() => history(-1)}></button>\n      </div>\n    );\n    }\n}\n  \nexport default Post;"]},"metadata":{},"sourceType":"module"}